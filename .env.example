# Copy this file to .env and fill in your own values.
# Never commit .env to version control.
#
#   cp .env.example .env

# ── Stripe ────────────────────────────────────────────────────────────────────
# Found at https://dashboard.stripe.com/apikeys
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here
STRIPE_SECRET_KEY=sk_test_your_secret_key_here

# ── Checkout mode ─────────────────────────────────────────────────────────────
# payment-links  → per-product Stripe Payment Links, no server required
# serverless     → multi-item cart posted to the Bun checkout server
CHECKOUT_MODE=payment-links

# ── Bun checkout server (only used when CHECKOUT_MODE=serverless) ─────────────
CHECKOUT_ENDPOINT=http://localhost:3001
CHECKOUT_PORT=3001

# ── Site URL ──────────────────────────────────────────────────────────────────
# Used for checkout success/cancel redirects. Change to your production domain.
SITE_URL=http://localhost:3000

# ── Address collection ────────────────────────────────────────────────────────
# Billing: 'required' | 'auto'  (auto = only when necessary)
STRIPE_BILLING_ADDRESS=required
# Comma-separated ISO 3166-1 alpha-2 shipping country codes
STRIPE_SHIPPING_COUNTRIES=US,GB,AU,CA,IE,DE,FR,NL,SE,NO,DK,FI

# ── CORS ──────────────────────────────────────────────────────────────────────
# Comma-separated origins allowed to call the checkout server / Cloudflare Worker.
# Always include your production SITE_URL. Add localhost entries for local dev.
ALLOWED_ORIGINS=http://localhost:3000,https://localhost:3000

# ── Checkout runtime ─────────────────────────────────────────────────────────
# bun        → run functions/checkout-server.ts locally (bun run serve:checkout)
# cloudflare → deploy to Cloudflare Workers (bun run deploy:checkout:cloudflare)
CHECKOUT_RUNTIME=bun

# ── Cloudflare Workers (only used when CHECKOUT_RUNTIME=cloudflare) ───────────
# Found at dash.cloudflare.com → your domain → Overview (right sidebar)
CLOUDFLARE_EMAIL=you@example.com
CLOUDFLARE_GLOBAL_API_KEY=     # Only needed for first deploy; a scoped token is created automatically
CLOUDFLARE_WORKERS_TOKEN=      # Created by deploy script on first run — use this instead of Global Key
CLOUDFLARE_ACCOUNT_ID=         # Auto-fetched and saved on first deploy
CLOUDFLARE_ZONE_ID=            # Optional — for custom domain route (e.g. yourdomain.com/checkout)
CLOUDFLARE_WORKER_ROUTE=       # Optional — e.g. yourdomain.com/checkout (requires CLOUDFLARE_ZONE_ID)
CLOUDFLARE_ORIGIN_CA_KEY=      # Optional — SSL certificate issuance only (not needed for Workers)

# ── Cloudflare API token for global price updates (optional) ─────────────────────
CLOUDFFLARE_GLOBAL_API=xxxxxx